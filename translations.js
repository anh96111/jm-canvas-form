// Language translations
const translations = {
    en: {
        // Header
        promoText: "🎁 Special Offer: Order 3+ canvas and get 5% OFF! Order 5+ canvas and get 12% OFF! 🎁",
        
        // Canvas Type
        canvasType: "Select Canvas Type",
        singleCanvas: "Single Canvas",
        multiCanvas: "Multiple Different Canvas",
        collageCanvas: "Collage Multiple Images",
        faqButton: "?",
        
        // Canvas Quantity
        selectQuantity: "How many different canvas?",
        collageQuantity: "How many canvas for collage?",
        discountText: "You get discount!",
        
        // Size Selection
        selectSize: "Select Size *",
        bestSeller: "Best Seller",
        
        // Two Person Canvas
        twoPersonLabel: "2 people on 1 canvas (+$10)",
        
        // Image Upload
        uploadImages: "Upload Images *",
        uploadText: "Click to upload images (Max 6)",
        uploadSubtext: "Supports JPG, PNG - Will be cropped to 8:10 ratio",
        
        // Custom Text
        customText: "Enter your text",
        customTextPlaceholder: "e.g., Forever Together",
        
        // Date
        date: "Date",
        datePlaceholder: "e.g., Dec 25, 2024",
        
        // Welcome Home
        welcomeHome: "Welcome Home",
        
        // Notes
        notes: "Additional Notes",
        notesPlaceholder: "Special instructions...",
        
        // Customer Info
        customerInfo: "Customer Information",
        fbName: "Your Facebook name *",
        fbNamePlaceholder: "Enter your Facebook name",
        email: "Email *",
        emailPlaceholder: "your@email.com",
        phone: "Phone number",
        phonePlaceholder: "Enter your phone number (optional)",
        
        // Price
        estimatedTotal: "Estimated Total",
        
        // Submit
        submit: "Submit Order",
        
        // Confirmation Modal
        confirmOrder: "Review Your Order",
        goBack: "Go Back",
        confirmSubmit: "Confirm Order",
        
        // Thank You Page
        thankYouTitle: "Thank You!",
        thankYouMessage: "Your order has been received successfully. We'll send your canvas preview to your email and Messenger within 2-3 business days.",
        newOrder: "Place Another Order",
        
        // FAQ Modal
        faqTitle: "Frequently Asked Questions",
        shippingTitle: "🚚 <strong>Shipping</strong>",
        deliveryTime: "<strong>Delivery Time:</strong>",
        usDelivery: "US: 5–10 business days",
        intlDelivery: "International: 7–15 business days",
        orderTracking: "<strong>Order Tracking:</strong> Sent via email automatically after purchase",
        securePackaging: "<strong>Secure Packaging:</strong> Shock-resistant, moisture-proof, and gift-ready",
        
        paymentTitle: "💳 <strong>Payment</strong>",
        acceptedMethods: "<strong>Accepted Methods:</strong>",
        creditCards: "Credit / Debit Cards",
        paypal: "PayPal",
        applePay: "Apple Pay",
        secureCheckout: "<strong>Secure Checkout:</strong> All payments are encrypted and processed safely",
        fastEasy: "<strong>Fast & Easy:</strong> No account needed — just a few quick steps",
        
        howItWorksTitle: "🧑‍🎨 <strong>How It Works</strong>",
        noLivePreview: "This canvas doesn't support live previews — but don't worry!",
        designerEnhance: "✅ Our designers will enhance your photo to look its very best.",
        completeDetails: "📝 Once you've completed the canvas details,",
        emailPreview: "📩 You'll receive a preview via email within 1–2 business days.",
        requestEdits: "🖼️ You can request edits until you're completely satisfied.",
        finalizeOrder: "✅ Finalize your order and we'll take care of the rest.",
        
        backToForm: "Back to Form",
        
        // Error Modal
        validationErrors: "Validation Errors",
        fixErrors: "Please fix the following errors:",
        goToError: "Go to First Error",
        
        // Crop Modal
        cropImage: "Crop Your Image",
        cancel: "Cancel",
        apply: "Apply Crop"
    },
    
    vi: {
        // Header
        promoText: "🎁 Ưu đãi đặc biệt: Đặt 3+ canvas giảm 5%! Đặt 5+ canvas giảm 12%! 🎁",
        
        // Canvas Type
        canvasType: "Chọn Loại Canvas",
        singleCanvas: "Canvas Đơn",
        multiCanvas: "Nhiều Canvas Khác Nhau",
        collageCanvas: "Ghép Nhiều Ảnh",
        faqButton: "?",
        
        // Canvas Quantity
        selectQuantity: "Bạn muốn bao nhiêu canvas khác nhau?",
        collageQuantity: "Bạn muốn bao nhiêu canvas để ghép?",
        discountText: "Bạn được giảm giá!",
        
        // Size Selection
        selectSize: "Chọn Kích Thước *",
        bestSeller: "Bán Chạy Nhất",
        
        // Two Person Canvas
        twoPersonLabel: "2 người trên 1 canvas (+$10)",
        
        // Image Upload
        uploadImages: "Tải Ảnh Lên *",
        uploadText: "Nhấn để tải ảnh lên (Tối đa 6)",
        uploadSubtext: "Hỗ trợ JPG, PNG - Sẽ được cắt theo tỷ lệ 8:10",
        
        // Custom Text
        customText: "Nhập văn bản của bạn",
        customTextPlaceholder: "Ví dụ: Mãi Bên Nhau",
        
        // Date
        date: "Ngày",
        datePlaceholder: "Ví dụ: 25/12/2024",
        
        // Welcome Home
        welcomeHome: "Chào Mừng Về Nhà",
        
        // Notes
        notes: "Ghi Chú Thêm",
        notesPlaceholder: "Yêu cầu đặc biệt...",
        
        // Customer Info
        customerInfo: "Thông Tin Khách Hàng",
        fbName: "Tên Facebook của bạn *",
        fbNamePlaceholder: "Nhập tên Facebook của bạn",
        email: "Email *",
        emailPlaceholder: "email@example.com",
        phone: "Số điện thoại",
        phonePlaceholder: "Nhập số điện thoại (không bắt buộc)",
        
        // Price
        estimatedTotal: "Tổng Ước Tính",
        
        // Submit
        submit: "Gửi Đơn Hàng",
        
        // Confirmation Modal
        confirmOrder: "Xem Lại Đơn Hàng",
        goBack: "Quay Lại",
        confirmSubmit: "Xác Nhận Đơn Hàng",
        
        // Thank You Page
        thankYouTitle: "Cảm Ơn Bạn!",
        thankYouMessage: "Đơn hàng của bạn đã được nhận thành công. Chúng tôi sẽ gửi bản xem trước canvas đến email và Messenger của bạn trong vòng 2-3 ngày làm việc.",
        newOrder: "Đặt Đơn Hàng Khác",
        
        // FAQ Modal
        faqTitle: "Câu Hỏi Thường Gặp",
        shippingTitle: "🚚 <strong>Vận Chuyển</strong>",
        deliveryTime: "<strong>Thời Gian Giao Hàng:</strong>",
        usDelivery: "Mỹ: 5–10 ngày làm việc",
        intlDelivery: "Quốc tế: 7–15 ngày làm việc",
        orderTracking: "<strong>Theo Dõi Đơn Hàng:</strong> Gửi qua email tự động sau khi mua",
        securePackaging: "<strong>Đóng Gói An Toàn:</strong> Chống sốc, chống ẩm, sẵn sàng làm quà",
        
        paymentTitle: "💳 <strong>Thanh Toán</strong>",
        acceptedMethods: "<strong>Phương Thức Chấp Nhận:</strong>",
        creditCards: "Thẻ Tín Dụng / Ghi Nợ",
        paypal: "PayPal",
        applePay: "Apple Pay",
        secureCheckout: "<strong>Thanh Toán An Toàn:</strong> Tất cả thanh toán được mã hóa và xử lý an toàn",
        fastEasy: "<strong>Nhanh & Dễ Dàng:</strong> Không cần tài khoản — chỉ vài bước nhanh chóng",
        
        howItWorksTitle: "🧑‍🎨 <strong>Cách Thức Hoạt Động</strong>",
        noLivePreview: "Canvas này không hỗ trợ xem trước trực tiếp — nhưng đừng lo!",
        designerEnhance: "✅ Nhà thiết kế của chúng tôi sẽ chỉnh sửa ảnh của bạn đẹp nhất.",
        completeDetails: "📝 Sau khi bạn hoàn thành chi tiết canvas,",
        emailPreview: "📩 Bạn sẽ nhận được bản xem trước qua email trong vòng 1–2 ngày làm việc.",
        requestEdits: "🖼️ Bạn có thể yêu cầu chỉnh sửa cho đến khi hoàn toàn hài lòng.",
        finalizeOrder: "✅ Hoàn tất đơn hàng và chúng tôi sẽ lo phần còn lại.",
        
        backToForm: "Quay Lại Form",
        
        // Error Modal
        validationErrors: "Lỗi Xác Thực",
        fixErrors: "Vui lòng sửa các lỗi sau:",
        goToError: "Đến Lỗi Đầu Tiên",
        
        // Crop Modal
        cropImage: "Cắt Ảnh Của Bạn",
        cancel: "Hủy",
        apply: "Áp Dụng"
    }
};

// Language detection and switching
let currentLanguage = localStorage.getItem('selectedLanguage') || 'en';

// Apply translations
function applyTranslations() {
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[currentLanguage][key]) {
            element.innerHTML = translations[currentLanguage][key];
        }
    });
    
    // Apply placeholder translations
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (translations[currentLanguage][key]) {
            element.placeholder = translations[currentLanguage][key];
        }
    });
}

// Switch language
function switchLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('selectedLanguage', lang);
    applyTranslations();
}

// Initialize translations on page load
document.addEventListener('DOMContentLoaded', function() {
    // Add language switcher if not exists
    if (!document.querySelector('.language-switcher')) {
        const switcher = document.createElement('div');
        switcher.className = 'language-switcher';
        switcher.innerHTML = `
            <button onclick="switchLanguage('en')" class="${currentLanguage === 'en' ? 'active' : ''}">EN</button>
            <button onclick="switchLanguage('vi')" class="${currentLanguage === 'vi' ? 'active' : ''}">VI</button>
        `;
        document.body.appendChild(switcher);
    }
    
    // Apply initial translations
    applyTranslations();
});

// Add language switcher styles
const style = document.createElement('style');
style.textContent = `
    .language-switcher {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        display: flex;
        gap: 5px;
        background: white;
        padding: 5px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .language-switcher button {
        padding: 5px 15px;
        border: none;
        background: transparent;
        cursor: pointer;
        border-radius: 15px;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .language-switcher button:hover {
        background: #f0f0f0;
    }
    
    .language-switcher button.active {
        background: #2C5F41;
        color: white;
    }
    
    @media (max-width: 768px) {
        .language-switcher {
            top: 10px;
            right: 10px;
        }
    }
`;
document.head.appendChild(style);

// Export for use in other scripts
window.translations = translations;
window.currentLanguage = currentLanguage;
window.switchLanguage = switchLanguage;
window.applyTranslations = applyTranslations;